let e = function () { let e = [], t = "https://pokeapi.co/api/v2/pokemon/?limit=150"; function n(t) { "object" == typeof t && "name" in t && "detailsUrl" in t ? e.push(t) : alert("Please select a PokÃ©mon.") } function a(e) { l(e).then((function () { !function (e) { let t = document.querySelector(".modal-title"), n = document.querySelector(".modal-body"), a = document.createElement("h1"); a.innerText = "Name: " + e.name[0].toUpperCase() + e.name.slice(1); let l = document.createElement("p"); l.innerText = "Height: " + e.height; let i = document.createElement("p"); i.innerText = "Types: " + e.types.map((e => e.type.name)); let o = document.createElement("p"); o.innerText = "Abilities: " + e.abilities.join(", "); let r = document.createElement("p"); r.innerText = "Base Experience: " + e.baseExperience; let c = document.createElement("img"); c.src = e.imageUrl, t.append(a), n.append(l), n.append(i), n.append(o), n.append(r), n.append(c), $(".modal").on("hidden.bs.modal", (function () { $(".modal-body").html("") && $(".modal-title").html("") })) }(e) })) } function l(e) { let t = e.detailsUrl; return fetch(t).then((function (e) { return e.json() })).then((function (t) { e.imageUrl = t.sprites.front_default, e.height = t.height, e.types = t.types, e.abilities = t.abilities.map((e => e.ability.name)), e.baseExperience = t.base_experience })).catch((function (e) { console.error(e) })) } function i() { var e, t, n, a, l; if (t = (e = document.getElementById("search-bar")).value.toUpperCase(), n = document.querySelector(".list-group").getElementsByTagName("li"), 0 === e.value.length) for (l = 0; l < n.length; l++)n[l].style.display = "block"; else for (l = 0; l < n.length; l++)((a = n[l].getElementsByTagName("button")[0]).textContent || a.innerText).toUpperCase().indexOf(t) > -1 ? n[l].style.display = "" : n[l].style.display = "none" } return document.getElementById("search-bar").addEventListener("input", i), { getAll: function () { return e }, add: n, addListItem: function (e) { let t = document.querySelector(".list-group"), n = document.createElement("li"); n.classList.add("list-group-item"); let l = document.createElement("button"); l.innerText = e.name, l.classList.add("btn-secondary"), l.setAttribute("data-toggle", "modal"), l.setAttribute("data-target", "#modalContainer"), n.appendChild(l), t.appendChild(n), l.addEventListener("click", (function () { a(e) })) }, loadList: function () { return fetch(t).then((function (e) { return e.json() })).then((function (e) { e.results.forEach((function (e) { let t = { name: e.name[0].toUpperCase() + e.name.slice(1), detailsUrl: e.url }; n(t), console.log(t) })) })).catch((function (e) { console.error(e) })) }, loadDetails: l, showDetails: a, searchFunction: i } }(); e.loadList().then((function () { e.getAll().forEach((function (t) { e.addListItem(t) })) }));